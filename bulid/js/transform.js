!function(){function t(t,s,i){for(var n=0,r=s.length;n<r;n++)e(t,s[n],i)}function e(t,e,s){Object.defineProperty(t,e,{get:function(){return this["_"+e]},set:function(t){this["_"+e]=t,s()}})}function s(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}function i(e,i){if(!e.hasOwnProperty("translateX")){var n=["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],a=s(e);i||n.push("perspective"),t(e,n,function(){var t=e.matrix3d.identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ),s=(i?"":"perspective("+e.perspective+"px) ")+"matrix3d("+Array.prototype.slice.call(t.elements).join(",")+")";a?e.style.transform=e.style.msTransform=e.style.OTransform=e.style.MozTransform=e.style.webkitTransform=s:e.transform=s}),e.matrix3d=new r,i||(e.perspective=500),e.scaleX=e.scaleY=e.scaleZ=1,e.translateX=e.translateY=e.translateZ=e.rotateX=e.rotateY=e.rotateZ=e.skewX=e.skewY=e.originX=e.originY=e.originZ=0}}var n=.017453292519943295,r=function(t,e,s,i,n,r,a,o,h,l,c,u,d,p,f,y){this.elements=window.Float32Array?new Float32Array(16):[];var m=this.elements;m[0]=void 0!==t?t:1,m[4]=e||0,m[8]=s||0,m[12]=i||0,m[1]=n||0,m[5]=void 0!==r?r:1,m[9]=a||0,m[13]=o||0,m[2]=h||0,m[6]=l||0,m[10]=void 0!==c?c:1,m[14]=u||0,m[3]=d||0,m[7]=p||0,m[11]=f||0,m[15]=void 0!==y?y:1};r.prototype={set:function(t,e,s,i,n,r,a,o,h,l,c,u,d,p,f,y){var m=this.elements;return m[0]=t,m[4]=e,m[8]=s,m[12]=i,m[1]=n,m[5]=r,m[9]=a,m[13]=o,m[2]=h,m[6]=l,m[10]=c,m[14]=u,m[3]=d,m[7]=p,m[11]=f,m[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,e){var s=t.elements,i=this.elements,n=s[0],r=s[4],a=s[8],o=s[12],h=s[1],l=s[5],c=s[9],u=s[13],d=s[2],p=s[6],f=s[10],y=s[14],m=s[3],X=s[7],Y=s[11],w=s[15],M=e[0],g=e[1],v=e[2],Z=e[3],_=e[4],x=e[5],k=e[6],b=e[7],T=e[8],j=e[9],A=e[10],O=e[11],W=e[12],F=e[13],P=e[14],z=e[15];return i[0]=n*M+r*_+a*T+o*W,i[4]=n*g+r*x+a*j+o*F,i[8]=n*v+r*k+a*A+o*P,i[12]=n*Z+r*b+a*O+o*z,i[1]=h*M+l*_+c*T+u*W,i[5]=h*g+l*x+c*j+u*F,i[9]=h*v+l*k+c*A+u*P,i[13]=h*Z+l*b+c*O+u*z,i[2]=d*M+p*_+f*T+y*W,i[6]=d*g+p*x+f*j+y*F,i[10]=d*v+p*k+f*A+y*P,i[14]=d*Z+p*b+f*O+y*z,i[3]=m*M+X*_+Y*T+w*W,i[7]=m*g+X*x+Y*j+w*F,i[11]=m*v+X*k+Y*A+w*P,i[15]=m*Z+X*b+Y*O+w*z,this},_rounded:function(t,e){return e=Math.pow(10,e||15),Math.round(t*e)/e},_arrayWrap:function(t){return window.Float32Array?new Float32Array(t):t},appendTransform:function(t,e,s,i,r,a,o,h,l,c,u,d,p,f){var y=o*n,m=this._rounded(Math.cos(y)),X=this._rounded(Math.sin(y)),Y=h*n,w=this._rounded(Math.cos(Y)),M=this._rounded(Math.sin(Y)),g=l*n,v=this._rounded(Math.cos(-1*g)),Z=this._rounded(Math.sin(-1*g));return this.multiplyMatrices(this,this._arrayWrap([1,0,0,t,0,m,X,e,0,-X,m,s,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([w,0,M,0,0,1,0,0,-M,0,w,0,0,0,0,1])),this.multiplyMatrices(this,this._arrayWrap([v*i,Z*r,0,0,-Z*i,v*r,0,0,0,0,1*a,0,0,0,0,1])),(c||u)&&this.multiplyMatrices(this,this._arrayWrap([this._rounded(Math.cos(c*n)),this._rounded(Math.sin(c*n)),0,0,-1*this._rounded(Math.sin(u*n)),this._rounded(Math.cos(u*n)),0,0,0,0,1,0,0,0,0,1])),(d||p||f)&&(this.elements[12]-=d*this.elements[0]+p*this.elements[4]+f*this.elements[8],this.elements[13]-=d*this.elements[1]+p*this.elements[5]+f*this.elements[9],this.elements[14]-=d*this.elements[2]+p*this.elements[6]+f*this.elements[10]),this}};var a=function(t,e,s,i,n,r){return this.a=null==t?1:t,this.b=e||0,this.c=s||0,this.d=null==i?1:i,this.tx=n||0,this.ty=r||0,this};a.prototype={identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},appendTransform:function(t,e,s,i,r,a,o,h,l){if(r%360)var c=r*n,u=Math.cos(c),d=Math.sin(c);else u=1,d=0;return a||o?(a*=n,o*=n,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),t,e),this.append(u*s,d*s,-d*i,u*i,0,0)):this.append(u*s,d*s,-d*i,u*i,t,e),(h||l)&&(this.tx-=h*this.a+l*this.c,this.ty-=h*this.b+l*this.d),this},append:function(t,e,s,i,n,r){var a=this.a,o=this.b,h=this.c,l=this.d;return this.a=t*a+e*h,this.b=t*o+e*l,this.c=s*a+i*h,this.d=s*o+i*l,this.tx=n*a+r*h+this.tx,this.ty=n*o+r*l+this.ty,this},initialize:function(t,e,s,i,n,r){return this.a=t,this.b=e,this.c=s,this.d=i,this.tx=n,this.ty=r,this},setValues:function(t,e,s,i,n,r){return this.a=null==t?1:t,this.b=e||0,this.c=s||0,this.d=null==i?1:i,this.tx=n||0,this.ty=r||0,this},copy:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)}},i.getMatrix3D=function(t){var e={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0,originX:0,originY:0,originZ:0,scaleX:1,scaleY:1,scaleZ:1};for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return(new r).identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ).elements},i.getMatrix2D=function(t){var e={translateX:0,translateY:0,rotation:0,skewX:0,skewY:0,originX:0,originY:0,scaleX:1,scaleY:1};for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return(new a).identity().appendTransform(e.translateX,e.translateY,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.originX,e.originY)},"undefined"!=typeof module&&"object"==typeof exports?module.exports=i:window.Transform=i}();